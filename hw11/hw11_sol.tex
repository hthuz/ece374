\documentclass[12pt,a4paper]{article}
\usepackage{fullpage}
\pagestyle{plain}
% choose any of the following packages to support AmsTeX
%\usepackage{amsmath,amssymb,amsfonts,mathrsfs,mathptm,bm,mathtools}
% choose the following package to insert eps figures
% for png, jpg or pdf figures, use pdflatex
\usepackage{amsmath}
\usepackage{graphicx}
\graphicspath{{./img}}
\usepackage{listings}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\algnewcommand{\beginComment}{\textbf{/*}}
\algnewcommand{\endComment}{\textbf{*/}}
\renewcommand{\Comment}[1]{\beginComment~#1~\endComment}


\newcommand{\question}[1]{\bigskip\noindent{\textbf{Q{#1} solution}}}
% set HW number
\newcommand{\HWnum}{11}
% specify first and last name and the ID number of students in the group
% append asterix to indicate who is making the submission
\newcommand{\StudentA}{Hanggang Zhu$^\ast$, 3200110457}
\newcommand{\StudentB}{Suhao Wang, 3200110777}
\newcommand{\StudentC}{Lumeng Xu 3200110184}

% ===============================================================
\begin{document}

%%% header
{\noindent \rule{\linewidth}{0.2mm}}\\
\noindent{ECE 374, ZJUI, Spring 2023\hfill%
	\textbf{\large H{}W\HWnum\ Solutions} \hfill \today\smallskip}

\noindent{\hfill \StudentA, \StudentB, and \StudentC \hfill}
\\[-0.2cm]{\noindent \rule{\linewidth}{0.2mm}}
%%% end header

\question{31.A}

\question{31.B}

\question{31.C}

\question{31.D}

\question{31.E}

\question{32.A}

As described in lecture slides, a clique in graph $G$ is equivalent to an independent set in complement graph $\overline{G}$. So the problem is equivalent to checking if there's at most $k$ independent sets in $\overline{G}$. This problem is equivalent to checking if $\overline{G}$ is $k$-colorable as set of vertices with the same color form an independent set in G. 

The problem now is to to find a polynominal-time reduction from graph k-coloring to SAT. Specifically, given a graph $\overline{G}$ with $n$ vertices and $m$ edges, create a SAT formula $\phi_{\overline{G}}$ such that $\overline{G}$ is k-colorable iff $\phi_{\overline{G}}$ is satisfiable and $\phi_{\overline{G}}$ can be constructed in polynominal time. For each vertex $v_i$, create $k$ variables $v_i.c_1,v_i.c_2,...v_i.c_k$, where $c_k$ corresponds to colors. construct SAT formula as follows.
\begin{equation*}
	\bigwedge_{i=1}^{n} (\bigwedge_{j=1}^{k}(v_i.c_j) \wedge \bigwedge_{a,b=1}^{k} (\overline{v_i.c_a} \vee \overline{v_i.c_b})) \wedge \bigwedge_{\mbox{each edge} (u,v) \in \overline{G}}( \bigwedge_{j=1}^{k}(\overline{u.c_i} \vee \overline{v.c_i}))
\end{equation*}

\noindent
$\bigwedge_{j=1}^{k}(v_i.c_j)$ makes sure each vetex takes one color from $k$ colors. \\
$\bigwedge_{a,b=1}^{k} (\overline{v_i.c_a} \vee \overline{v_i.c_b})$ makes sure each vetex takes only one color instead of multiple colors. \\
$\bigwedge_{\mbox{each edge} (u,v) \in \overline{G}}( \bigwedge_{j=1}^{k}(\overline{u.c_i} \vee \overline{v.c_i}))$ makes sure vertices with adjacent edges don't have the same color.

The construction can be done in $O((n+m)k)$ time. So to reduce CLIQUE-COVER to SAT, first complement graph, which times $O(n + m)$, then reduce it to SAT using the SAT formula given above.


\question{32.B}

No. First of all, this doesn't prove CLIQUE-COVER is in NP. And reduing from CLIQUE-COVER to SAT doesn't prove that CLIQUE-COVER is NP-Hard. One should show that CLIQUE-COVER has a polynominal time cerfiier algorithm and that an proven NPC problem like SAT can be reduced to CLIQUE-COVER.

\question{33}\\
We can prove this problem is NP-hard by a reduction from the Independent set problem.\\
Assume an instance of independent set is a graph $G=(V,E)$ and an integer k. $|V| = n$, $|E| = m$.\\
Let $V\_extra = \{v^e:e \in E(G)\}$, and $|V\_extra|=|E|$. \\
For each edge $(x,y)$ in $E$,connect one vertex to both $x$ and $y$.\\
Then $E\_extra = \{all the new added edge\}$.\\
Construct $G' = (V',E')$ with $V' = V \cup V\_extra$, $E'= E \cup E\_extra $.\\
Now, proving the following statement domonstrates that the triangle free problem is an NPC problem.\\
\textbf{claim: $G'$ has a triangle-free set $S'$, whose size is $k+|E(G)|$, iff G has an independent set S, whose size is  $k$.}\\
\textbf{Step1: if G has an independent set S, whose size is $k$, then $G'$ has a triangle-free set $S'$, whose size is $k+|E(G)|$.}\\
with $|S| >= k$, select $S' = S \cup V\_extra$\\
Since there are no edges between all the pinions in $V\_extra$, there must be edges between the vertices in S in order to form a triangle. But $S$ is an independent set, and there are no edges between them. So $G'$ has a triangle free set $S'$ of size k+|E(G)|.\\


\noindent
\textbf{Step2: G has an independent set S, whose size is $k$, if $G'$ has a triangle-free set $S'$, whose size is $k+|E|$.}\\
Let S' the set for triangle free problem having no triangle and $S'>=|E|+k$, decompose $S'$ into $S_1 = S' \cap V$, $S_2 = S' \cap \{v^e:e \in E(G)\ $ and $e \notin E(S1)\}$.\\
It is obvious that $S_1 \cap S_2 = \emptyset$ and $S=S_1 \cup S_2$.\\
$|S_2|$ can be expressed as $|E(G)|-|E(S_1)|$, which will maximize the S' and does not add triangles. Because if $S_2$ contains a vertex that connect to the edge of $S_1$, there will be a triangle in S'.\\
Thus, $|S| = |S_1|+|S_2|=|S_1|+|E(G)|-|E(S_1)|>=|E(G)|+k $\\
$|S_1|-|E(S_1)|>=k$\\
Remove the edges of S1, the set is an independent set of size $k$.\\
So finding the size of the largest triangle-free subset of vertices in a given undirected graph is NP-hard.


\end{document}
